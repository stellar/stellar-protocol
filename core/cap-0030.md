## Preamble

```
CAP: 0030
Title: Remove NO_ISSUER Operation Results
Author: Siddharth Suresh
Status: Draft
Created: 2020-01-14
Discussion: https://github.com/stellar/stellar-protocol/issues/497
Protocol version: TBD
```

## Simple Summary
There are operations that return an error result if the issuer of an asset was not found. These errors are not necessary, and this proposal aims to remove them.

## Motivation
The following operation results indicate that an operation failed because the issuer of an asset does not exist: `PAYMENT_NO_ISSUER`, `PATH_PAYMENT_STRICT_RECEIVE_NO_ISSUER`, `PATH_PAYMENT_STRICT_SEND_NO_ISSUER`, `MANAGE_SELL_OFFER_SELL_NO_ISSUER`, `MANAGE_SELL_OFFER_BUY_NO_ISSUER`, `MANAGE_BUY_OFFER_SELL_NO_ISSUER`, `MANAGE_BUY_OFFER_BUY_NO_ISSUER`, and `CHANGE_TRUST_NO_ISSUER`. Each of the operations that can produce these results other than `ChangeTrustOp` does not otherwise depend on the existence of the issuer. `ChangeTrustOp` can be changed to not rely on the issuer, so the check for the issuer is unnecessary.

Removing the issuer from the operations that produce the `*_NO_ISSUER` results will also prevent `stellar-core` developers from using the `AUTH_REQUIRED` flag incorrectly. If `AUTH_REQUIRED` is not set on the issuer, then the `TrustLine` will be authorized on it's creation. The name `AUTH_REQUIRED`, however, implies that the flag determines if authorization should be checked, which is not the actual logic.

This proposal will also make the CAP-0023 (Two-Part Payments) implementation simpler because we won't need to return the `*_NO_ISSUER` results there to maintain consistency.

### Goals Alignment
The Stellar Network should facilitate simplicity and interoperability with other protocols and networks.

## Specification

1. Remove every `*_NO_ISSUER` result from `Stellar-transaction.x` 
2. For every operation that can return a `*_NO_ISSUER` result, remove the issuer check code along with the result.
3. For the `ChangeTrustOp`, remove all `CHANGE_TRUST_NO_ISSUER` results. When checking the `AUTH_REQUIRED` flag on the issuer, check if the issuer exists first. If not, the `TrustLine` will not be authorized on creation.
```c++
if (issuer && !isAuthRequired(issuer))
{
    tl.flags = AUTHORIZED_FLAG;
}
```

## Backwards Incompatibilities
The `*_NO_ISSUER` results will no longer be returned, so anyone relying on these results will need to modify their behavior.

## Security Concerns
None

## Test Cases
None yet

## Implementation
None yet
